<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareBlast - Giveaway</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="container">
        <div class="giveaway-details">
            <h1 class="text-center" id="giveaway-title"></h1>
            <img src="" alt="Giveaway item" class="giveaway-image" id="giveaway-image">
            <p id="giveaway-description"></p>
            <p class="text-center">Time remaining: <span id="countdown">2 days, 5 hours</span></p>
            <div class="text-center mt-1">
                <button id="enter-giveaway" class="btn">Enter Giveaway</button>
            </div>
        </div>
    </div>

    <script src="/static/js/giveaway.js"></script>
    <script>
        const giveawayId = window.location.search.split('=')[1];
        fetch(`/giveaway/${giveawayId}`)
            .then(response => response.json())
            .then(data => {
                document.getElementById('giveaway-title').textContent = data.title;
                document.getElementById('giveaway-image').src = data.image_url;
                document.getElementById('giveaway-description').textContent = data.description;
                let countdownElement = document.getElementById('countdown');
                let enterGiveawayButton = document.getElementById('enter-giveaway');
                let endDate = new Date(data.end_date);
                let timeLeft = (endDate - Date.now()) / 1000;
                updateCountdown(countdownElement, timeLeft);
                enterGiveawayButton.addEventListener('click', function() {
                    // TODO: Implement actual giveaway entry logic in future versions
                    alert('You have entered the giveaway! Good luck!');
                });
            })
            .catch(error => console.error(error));
    </script>
</body>
</html>
